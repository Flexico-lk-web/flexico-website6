<!DOCTYPE html>
<html lang="si">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Loan Calculator</title>

<style>
:root{
 --green:#16c172;
 --dark:#0aa764;
 --bg:#f4f8f8;
 --card:#ffffff;
 --muted:#8b98a0;
}
*{box-sizing:border-box;}
body{
 margin:0;
 font-family:"Segoe UI","Noto Sans Sinhala",sans-serif;
 background:var(--bg);
}

/* CARD */
.card{
 background:#fff;
 margin:16px;
 padding:18px;
 border-radius:18px;
 box-shadow:0 10px 25px rgba(0,0,0,.08);
}
.hero{
 background:linear-gradient(90deg,var(--green),var(--dark));
 color:#fff;
 padding:18px;
 border-radius:14px;
 text-align:center;
 font-weight:800;
 font-size:16px;
}

.amount{
 display:flex;
 justify-content:space-between;
 margin-top:14px;
 font-weight:700;
}
input[type=range]{
 width:100%;
 margin:8px 0 14px;
}

/* RESULTS */
.results{
 display:grid;
 grid-template-columns:1fr 1fr;
 gap:12px;
 margin-top:10px;
}
.box{
 background:#f6faf8;
 padding:12px;
 border-radius:12px;
}
.label{
 font-size:12px;
 color:var(--muted);
}
.value{
 font-weight:800;
 font-size:15px;
}

/* BREAKDOWN */
.breakdown{
 margin-top:18px;
 background:#f9fcfb;
 padding:14px;
 border-radius:14px;
}
.breakdown h4{
 margin:0 0 12px;
 color:var(--dark);
}
.row{
 display:flex;
 justify-content:space-between;
 margin:6px 0;
 font-size:14px;
}
.row strong{font-weight:800;}
</style>
</head>

<body>

<div class="card">
 <div class="hero">
  Online Loan Calculator
 </div>

 <!-- LOAN AMOUNT -->
 <div class="amount">
  <span>ණය මුදල</span>
  <span>රු <span id="amt">500,000</span></span>
 </div>
 <input type="range" min="30000" max="500000" step="10000" value="500000" id="amountRange">

 <!-- MONTHS -->
 <div class="amount">
  <span>කාලය</span>
  <span><span id="mVal">12</span> මාස</span>
 </div>
 <input type="range" min="6" max="24" step="3" value="12" id="monthRange">

 <!-- RESULTS -->
 <div class="results">
  <div class="box">
   <div class="label">පොලී අනුපාතය</div>
   <div class="value">1.1% (මාසික)<br>≈ 13.2% (වාර්ෂික)</div>
  </div>
  <div class="box">
   <div class="label">මාසික වාරිකය</div>
   <div class="value" id="monthly">රු 0</div>
  </div>
  <div class="box">
   <div class="label">වාරික</div>
   <div class="value" id="months">12 මාස</div>
  </div>
  <div class="box">
   <div class="label">මුළු ගෙවීම</div>
   <div class="value" id="total">රු 0</div>
  </div>
 </div>

 <!-- BREAKDOWN -->
 <div class="breakdown">
  <h4>Finance Company Breakdown</h4>
  <div class="row"><span>ණය මුදල</span><strong id="bLoan">රු 0</strong></div>
  <div class="row"><span>මුළු පොලිය</span><strong id="bInterest">රු 0</strong></div>
  <div class="row"><span>මාසික වාරිකය</span><strong id="bMonthly">රු 0</strong></div>
  <div class="row"><span>මුළු ගෙවීම</span><strong id="bTotal">රු 0</strong></div>
 </div>
</div>

<script>
const amountRange = document.getElementById("amountRange");
const monthRange = document.getElementById("monthRange");

const amt = document.getElementById("amt");
const mVal = document.getElementById("mVal");
const monthly = document.getElementById("monthly");
const total = document.getElementById("total");
const months = document.getElementById("months");

const bLoan = document.getElementById("bLoan");
const bInterest = document.getElementById("bInterest");
const bMonthly = document.getElementById("bMonthly");
const bTotal = document.getElementById("bTotal");

function calc(){
 const P = +amountRange.value;
 const n = +monthRange.value;
 const r = 0.011; // 1.1% monthly

 const totalPay = Math.round(P * Math.pow(1 + r, n));
 const monthlyPay = Math.round(totalPay / n);
 const interest = totalPay - P;

 amt.innerText = P.toLocaleString();
 mVal.innerText = n;
 months.innerText = n + " මාස";

 monthly.innerText = "රු " + monthlyPay.toLocaleString();
 total.innerText = "රු " + totalPay.toLocaleString();

 bLoan.innerText = "රු " + P.toLocaleString();
 bInterest.innerText = "රු " + interest.toLocaleString();
 bMonthly.innerText = "රු " + monthlyPay.toLocaleString();
 bTotal.innerText = "රු " + totalPay.toLocaleString();
}

amountRange.oninput = calc;
monthRange.oninput = calc;
calc();
</script>

</body>
</html>
